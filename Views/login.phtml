<?php
/**
 * login.phtml
 *
 * Login form view template for the ecoBuddy system.
 * Features:
 * - Role selection (Manager/User)
 * - Username/password input
 * - Error message display
 * - Bootstrap-based responsive layout
 *
 * Required view variables:
 * @var string|null $view->error Error message to display
 */
?>

<?php require('template/header.phtml') ?>

    <div class="container mt-5">
        <div class="row justify-content-center">
            <div class="col-md-6">
                <!-- Login Card -->
                <div class="card shadow-sm">
                    <!-- Card Header -->
                    <div class="card-header bg-white">
                        <h3 class="mb-0">Login</h3>
                    </div>

                    <!-- Card Body -->
                    <div class="card-body">
                        <!-- Error Message Display -->
                        <?php if ($view->error): ?>
                            <div class="alert alert-danger" role="alert">
                                <?php echo htmlspecialchars($view->error); ?>
                            </div>
                        <?php endif; ?>

                        <!-- Login Form -->
                        <form method="POST" action="login.php" autocomplete="off">
                            <!-- Role Selection -->
                            <div class="mb-3">
                                <label for="loginType" class="form-label">
                                    Login Type
                                </label>
                                <select
                                        id="loginType"
                                        name="loginType"
                                        class="form-select"
                                        aria-label="Select login type"
                                >
                                    <option value="manager">Manager</option>
                                    <option value="user">User</option>
                                </select>
                            </div>

                            <!-- Username Input -->
                            <div class="mb-3">
                                <label for="username" class="form-label">
                                    Username
                                </label>
                                <input
                                        type="text"
                                        class="form-control"
                                        id="username"
                                        name="username"
                                        required
                                        autocomplete="username"
                                        aria-label="Enter username"
                                >
                            </div>

                            <!-- Password Input -->
                            <div class="mb-3">
                                <label for="password" class="form-label">
                                    Password
                                </label>
                                <input
                                        type="password"
                                        class="form-control"
                                        id="password"
                                        name="password"
                                        required
                                        autocomplete="current-password"
                                        aria-label="Enter password"
                                >
                            </div>

                            <!-- Submit Button -->
                            <button
                                    type="submit"
                                    class="btn btn-primary w-100"
                            >
                                Login
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

<?php require('template/footer.phtml') ?>